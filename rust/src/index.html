<!DOCTYPE html>
<html lang="zh-TW">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Resource Monitor</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
  <script src="main.js" defer></script>
</head>

<body>
  <div class="container ">
    <!-- Draggable Header -->
    <div class="header" data-tauri-drag-region>
      <div class="title" data-tauri-drag-region>RESOURCE MONITOR</div>
      <div class="controls">
        <!-- Debug Toggle -->
        <div id="debugToggle" class="icon-btn" title="Toggle Debug Mode"
          style="cursor: pointer; opacity: 0.5; margin-right: 8px;">
          <svg viewBox="0 0 24 24" style="width: 18px; height: 18px; fill: var(--text-muted); display: block;">
            <path
              d="M14,12H10V10H14M14,16H10V14H14M20,8H17.19C16.74,7.22 16.12,6.55 15.37,6.04L17,4.41L15.59,3L13.42,5.17C12.96,5.06 12.49,5 12,5C11.53,5 11.05,5.06 10.59,5.17L8.41,3L7,4.41L8.62,6.04C7.88,6.55 7.26,7.22 6.81,8H4V10H6.09C6.04,10.33 6,10.66 6,11V12H4V14H6V15C6,15.34 6.04,15.67 6.09,16H4V18H6.81C7.85,19.79 9.78,21 12,21C14.22,21 16.15,19.79 17.19,18H20V16H17.91C17.96,15.67 18,15.34 18,15V14H20V12H18V11C18,10.66 17.96,10.33 17.91,10H20V8Z" />
          </svg>
        </div>
        <label class="switch" title="Run on Startup">
          <input type="checkbox" id="startupToggle">
          <span class="slider round"></span>
        </label>
        <input type="range" id="opacitySlider" min="10" max="100" value="90" title="Opacity">
        <button id="closeBtn" class="close-btn">×</button>
      </div>
    </div>

    <!-- Content Grid -->
    <div class="stats-grid">

      <!-- CPU Card -->
      <div class="card cpu-card">
        <div class="card-header">
          <div class="card-header-left">
            <svg class="icon" viewBox="0 0 24 24">
              <path
                d="M4,2H20A2,2 0 0,1 22,4V20A2,2 0 0,1 20,22H4A2,2 0 0,1 2,20V4A2,2 0 0,1 4,2M6,6V10H10V12H8V14H10V16H12V14H14V16H16V14H18V12H16V10H18V8H16V6H14V8H12V6H10V8H8V6H6M6,12V14H6V12M6,16V18H10V18H6V16M12,6V6M14,6V6M16,6V6M16,10V10M16,12V12M14,12V12M12,12V12M10,12V12M10,10V10M8,10V10M8,8V8M10,8V8M12,8V8M14,8V8M16,8V8M18,6V8M18,10V12H18V12M18,14V16H18V14M18,18V18H14V18H18V18M12,18V18H10V18H12V18Z" />
            </svg>
            <span class="label">CPU</span>
          </div>
          <span class="value" id="cpu-load">0%</span>
        </div>
        <div class="bar-container">
          <div class="bar-fill" id="cpu-bar"></div>
        </div>
        <div class="sub-stat">
          <span id="cpu-model">...</span>
          <span class="sub-value" id="cpu-temp">--°C</span>
        </div>
      </div>

      <!-- RAM Card -->
      <div class="card ram-card">
        <div class="card-header">
          <div class="card-header-left">
            <svg class="icon" viewBox="0 0 24 24">
              <path
                d="M2,7H4.5V17H3V8.5H2M22,7H19.5V17H21V8.5H22M15,7H9V17H15V7M5.5,7H8V17H6.5V7M16,7H18.5V17H17.5V7" />
            </svg>
            <span class="label">RAM</span>
          </div>
          <span class="value" id="mem-used">0 GB</span>
        </div>
        <div class="bar-container">
          <div class="bar-fill" id="mem-bar"></div>
        </div>
        <div class="sub-stat">
          <span>TOTAL</span>
          <span class="sub-value" id="mem-total">0 GB</span>
        </div>
      </div>

      <!-- GPU Container: Will generate cards for each GPU -->
      <div id="gpu-wrapper" class="gpu-wrapper">
        <!-- GPU Logic injected here -->
      </div>

      <!-- Disk Container: Will generate cards for each Disk -->
      <div id="disk-wrapper" class="gpu-wrapper">
        <!-- Disk Logic injected here -->
      </div>

    </div>

    <!-- Resize Handle: In Tauri, we don't necessarily need this if 'resizable' is true, 
         but for frameless transparent windows, custom resize handles are often used. 
         However, Tauri v2 supports window dragging/resizing via data-tauri-drag-region and OS borders? 
         With decorations: false, we lose OS borders.
         We might need to keep the handle and use a tauri command to start resizing?
         Actually, Tauri 2 has no 'startResize' JS API readily available without plugin?
         Let's try to assume native resizing might not work easily on frameless.
         But wait, I can just leave it visual for now or allow it to work via the original IPC equivalent if I implement it.
         I didn't implement 'start_resize' in Rust.
         I'll stick to 'resizable: true' in config which usually allows resizing edges on Windows even if frameless (hit testing).
         If not, the corners might be tricky.
         I'll leave the handle div but it might not work unless I implement the drag logic.
         For a simple port, let's omit the custom resize logic if possible and rely on system behavior for frameless windows (which is hit or miss on Windows 10/11 depending on exact flags).
         Actually, let's Keep the handle but make it do nothing or use a simple maximize/restore?
         No, the user wants resizing.
         I'll rely on Tauri's built-in resize if specific edges are hit.
    -->
    <!-- <div class="resize-handle"></div> -->
  </div>

  <!-- Debug Panel -->
  <div id="debug-panel" class="debug-panel">
    <div class="debug-title">DEBUG MODE</div>
    <div id="debug-content"></div>
  </div>
</body>

</html>